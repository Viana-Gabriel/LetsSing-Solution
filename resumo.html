<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>LetsSign - Assinatura Concluída</title>
        <!-- Bootstrap CSS -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="./styles/resumo.css" />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
        <style></style>
    </head>

    <body>
        <header
            class="cabecalho d-flex align-items-center justify-content-between text-white px-3 py-2 text-center"
        >
            <div class="logo">
                <img src="./Assets/logo.svg" alt="letsSing" />
            </div>
            <div class="user-logado">
                <span>
                    <p id="nome-usuario"></p>
                </span>
            </div>
        </header>

        <main class="container my-5">
            <div class="completion-box">
                <h2>Sua Assinatura foi concluída com Sucesso</h2>
                <p>
                    Uma cópia do documento assinado foi enviada para seu e-mail.
                </p>

                <div class="mt-4">
                    <p><strong>Documento:</strong> Contrato-de-serviço.pdf</p>
                    <p>
                        <strong>Data e hora da assinatura:</strong>
                        <span id="data-assinatura"></span>
                    </p>
                </div>

                <div class="d-flex justify-content-center mt-4">
                    <button id="download-pdf" class="btn btn-primary me-2">
                        Baixar PDF
                    </button>
                </div>
            </div>
        </main>

        <footer class="w-100 text-center py-3">
            <p>&copy; 2025 LetsSign</p>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
        <script src="./scripts/resumo.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const nome = localStorage.getItem("NomeCompleto");
                const nomeUsuario = document.getElementById("nome-usuario");

                if (nome) {
                    nomeUsuario.textContent = nome;
                }
            });
        </script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const now = new Date();

                const dia = String(now.getDate()).padStart(2, "0");
                const mes = String(now.getMonth() + 1).padStart(2, "0");
                const ano = now.getFullYear();

                const horas = String(now.getHours()).padStart(2, "0");
                const minutos = String(now.getMinutes()).padStart(2, "0");

                const dataHoraFormatada = `${dia}/${mes}/${ano}, ${horas}:${minutos}`;

                document.getElementById("data-assinatura").textContent =
                    dataHoraFormatada;
            });
        </script>
    </body>
</html>
